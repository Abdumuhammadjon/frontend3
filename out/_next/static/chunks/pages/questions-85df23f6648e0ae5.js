(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{4171:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions",function(){return s(4982)}])},5452:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3943).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},8357:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3943).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},7414:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3943).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},4909:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3943).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(4848),l=s(6540),i=s(3368),r=s.n(i),o=s(6715),n=s(4335),c=s(7414),d=s(8357),h=s(4909),x=s(5452),u=s(7034),p=s(3943);let g=(0,p.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),m=(0,p.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function y(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!1),[p,y]=(0,l.useState)(null),[b,v]=(0,l.useState)(null),[j,f]=(0,l.useState)(!1),k=(0,o.useRouter)();(0,l.useEffect)(()=>{let e=localStorage.getItem("adminId"),t=localStorage.getItem("subjectId");console.log("Admin ID:",e),console.log("Subject ID:",t),e&&t?(y(t),v(e),f(!0)):(alert("Subject ID yoki Admin ID yo‘q!"),k.push("/Login"))},[k]);let N=s=>{t(e.filter((e,t)=>t!==s))},w=(s,a)=>{let l=[...e];l[s].questionText=a,t(l)},C=(s,a,l)=>{let i=[...e];i[s].options[a].text=l,t(i)},A=(s,a)=>{let l=[...e];l[s].options=l[s].options.map((e,t)=>({...e,isCorrect:t===a})),t(l)},S=async()=>{let s=localStorage.getItem("adminId"),a=localStorage.getItem("subjectId");if(!a||!s){alert("Subject ID yoki Admin ID topilmadi!");return}try{let l=await n.A.post("https://backed1.onrender.com/api/question",{subjectId:a,adminId:s,questions:e},{headers:{"Content-Type":"application/json"}});alert(l.data.message||"Savollar muvaffaqiyatli saqlandi!"),t([])}catch(e){var l,i;alert((null===(i=e.response)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.message)||"Server bilan bog‘lanishda xatolik!")}};return(0,a.jsxs)("div",{className:"flex -ml-5 flex-col h-screen bg-gray-100",children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Admin Paneli"}),(0,a.jsx)("meta",{name:"description",content:"Savollar va variantlar qo‘shish"})]}),(0,a.jsx)("div",{className:"bg-white shadow-md h-16 flex items-center px-6 fixed w-full z-50 top-0",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"})}),(0,a.jsxs)("div",{className:"flex flex-1 pt-16",children:[(0,a.jsxs)("div",{className:"bg-gray-900 text-white fixed h-full p-5 top-16 transition-all duration-300 ".concat(s?"w-64":"w-20"),children:[(0,a.jsx)("button",{className:"text-white mb-6",onClick:()=>i(!s),children:(0,a.jsx)(c.A,{size:24})}),(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsxs)("li",{className:"flex items-center gap-3 hover:bg-gray-700 p-2 rounded-lg cursor-pointer",children:[(0,a.jsx)(d.A,{size:24})," ",s&&"Bosh sahifa"]}),(0,a.jsxs)("li",{className:"flex items-center gap-3 hover:bg-gray-700 p-2 rounded-lg cursor-pointer",onClick:()=>{k.push("/results")},children:[(0,a.jsx)(h.A,{size:24})," ",s&&"Foydalanuvchilar"]}),(0,a.jsxs)("li",{className:"flex items-center gap-3 hover:bg-gray-700 p-2 rounded-lg cursor-pointer",onClick:()=>{k.push("/UserResults")},children:[(0,a.jsx)(x.A,{size:24})," ",s&&"Hisobotlar"]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),j&&(0,a.jsxs)("li",{className:"flex items-center gap-3 hover:bg-gray-700 p-2 rounded-lg cursor-pointer",onClick:()=>{document.cookie.split(";").forEach(function(e){let t=e.split("=")[0].trim();document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}),localStorage.clear(),sessionStorage.clear(),f(!1),k.push("/Login")},children:[(0,a.jsx)(u.A,{size:24})," ",s&&"Chiqish"]})]})]}),(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center py-8 flex-1 transition-all duration-300 ".concat(s?"ml-64":"ml-20"),children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Savollar Qo‘shish"}),(0,a.jsx)("button",{onClick:()=>{t([...e,{questionText:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}])},className:"mb-6 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Savol yaratish"}),(0,a.jsx)("div",{className:"w-full max-w-3xl space-y-8",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md relative",children:[(0,a.jsx)("textarea",{value:e.questionText,onChange:e=>w(t,e.target.value),placeholder:"Savol ".concat(t+1),className:"w-full p-3 mb-4 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-y"}),(0,a.jsx)("button",{onClick:()=>N(t),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-lg hover:bg-red-600",children:(0,a.jsx)(g,{size:24})}),(0,a.jsx)("div",{className:"space-y-2",children:e.options.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:e.text,onChange:e=>C(t,s,e.target.value),placeholder:"Variant ".concat(s+1),className:"flex-1 p-2 border rounded-lg"}),(0,a.jsx)("button",{onClick:()=>A(t,s),className:"p-2 rounded-lg ".concat(e.isCorrect?"bg-green-500 text-white":"bg-gray-300 text-gray-700"),children:(0,a.jsx)(m,{size:20})})]},s))})]},t))}),(0,a.jsx)("button",{onClick:S,className:"mt-6 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Saqlash"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(4171)),_N_E=e.O()}]);