(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{7553:(e,s,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminlar",function(){return l(60)}])},60:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>f});var r=l(4848),a=l(4953),i=l.n(a),o=l(6715),n=l(6540),t=l(9785),d=l(9836),c=l(7414),u=l(8357),h=l(4909),p=l(7034),m=l(4335);i()(()=>Promise.all([l.e(201),l.e(888),l.e(505)]).then(l.bind(l,505)),{loadableGenerated:{webpack:()=>[505]},ssr:!1});let x=(0,d.v)(e=>({users:[],addUser:s=>e(e=>({users:[...e.users,s]})),updateUser:(s,l)=>e(e=>({users:e.users.map(e=>e.id===s?l:e)})),deleteUser:s=>e(e=>({users:e.users.filter(e=>e.id!==s)}))}));function f(){let[e,s]=(0,n.useState)(!0),l=(0,o.useRouter)(),{register:a,handleSubmit:i,reset:d,setValue:f}=(0,t.mN)(),{users:b,addUser:g,updateUser:j,deleteUser:N}=x(),[w,y]=(0,n.useState)(null),v=async e=>{console.log(e);try{let s={username:e.username,email:e.email,password:e.password,role:e.role},l=await m.A.post("https://backed1.onrender.com/auth/register",s);console.log(l.data),w?(j(w.id,{...s,id:w.id}),y(null)):g({...s,id:Date.now().toString()}),d()}catch(e){console.log("Xatolik:",e)}};return(0,r.jsxs)("div",{className:"flex -ml-5 flex-col h-screen bg-gray-100",children:[(0,r.jsx)("div",{className:"bg-white shadow-md h-16 flex items-center px-6 fixed w-full z-10 top-0",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"})}),(0,r.jsxs)("div",{className:"flex flex-1 pt-16",children:[(0,r.jsxs)("div",{className:"bg-gray-900 text-white fixed h-full p-5 top-16 transition-all duration-300 ".concat(e?"w-64":"w-20"," flex flex-col"),children:[(0,r.jsx)("button",{className:"text-white mb-6 focus:outline-none self-end",onClick:()=>s(!e),children:(0,r.jsx)(c.A,{size:24})}),e&&(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),(0,r.jsxs)("ul",{className:"space-y-4",children:[(0,r.jsxs)("li",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-700 p-2 rounded-lg",onClick:()=>{l.push("/Superadmin")},children:[(0,r.jsx)(u.A,{size:24})," ",e&&"Bosh sahifa"]}),(0,r.jsxs)("li",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-700 p-2 rounded-lg",children:[(0,r.jsx)(h.A,{size:24})," ",e&&"Foydalanuvchilar"]}),(0,r.jsxs)("li",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-700 p-2 rounded-lg",onClick:()=>{l.push("/Fanlar")},children:[(0,r.jsx)(h.A,{size:24})," ",e&&"Fan yaratish"]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("li",{className:"flex items-center gap-3 hover:bg-gray-700 p-2 rounded-lg cursor-pointer",onClick:()=>{document.cookie.split(";").forEach(function(e){let s=e.split("=")[0].trim();document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}),localStorage.clear(),sessionStorage.clear(),l.push("/Login")},children:[(0,r.jsx)(p.A,{size:24})," ",e&&"Chiqish"," "]})]})]}),(0,r.jsx)("div",{className:"flex-1 transition-all p-8 pt-20",style:{marginLeft:e?"16rem":"5rem"},children:(0,r.jsxs)("div",{className:"mt-10 p-6 max-w-2xl border rounded",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Foydalanuvchilarni boshqarish"}),(0,r.jsxs)("form",{onSubmit:i(v),className:"space-y-4",children:[(0,r.jsx)("input",{...a("username",{required:!0}),placeholder:"Foydalanuvchi nomi",className:"border p-2 w-full"}),(0,r.jsx)("input",{...a("email",{required:!0}),type:"email",placeholder:"Email",className:"border p-2 w-full"}),(0,r.jsx)("input",{...a("password",{required:!0}),type:"password",placeholder:"Parol",className:"border p-2 w-full"}),(0,r.jsxs)("select",{...a("role",{required:!0}),className:"border p-2 w-full",children:[(0,r.jsx)("option",{value:"user",children:"Oddiy foydalanuvchi"}),(0,r.jsx)("option",{value:"admin",children:"Admin"})]}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:w?"Tahrirlash":"Qoâ€˜shish"})]})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[715,636,593,792],()=>s(7553)),_N_E=e.O()}]);