(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{2551:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/UserResults",function(){return a(1282)}])},5452:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3943).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},1282:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(4848),r=a(6540),l=a(3368),i=a.n(l),n=a(6715),c=a(5452),d=a(4335);let o=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[o,x]=(0,r.useState)(null),h=(0,n.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("userId"),s=localStorage.getItem("subjectId");if(!e){h.push("/Login");return}(async()=>{if(!a){x("Foydalanuvchi ID topilmadi"),l(!1);return}try{l(!0),x(null);let r=s?"https://backed1.onrender.com/api/userResults/".concat(a,"?subjectId=").concat(s):"https://backed1.onrender.com/api/userResults/".concat(a),i=await d.A.get(r,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t(i.data.results||[])}catch(e){var r,i;x((null===(i=e.response)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.error)||"Natijalarni olishda xatolik")}finally{l(!1)}})()},[h]);let p=async e=>{let a=localStorage.getItem("token");try{await d.A.delete("https://backed1.onrender.com/api/userResult/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}}),t(t=>t.filter(t=>t.resultId!==e))}catch(e){var s,r;alert("O‘chirishda xatolik: "+((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error)||"Xatolik"))}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 p-6",children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Foydalanuvchi Natijalari"}),(0,s.jsx)("meta",{name:"description",content:"Foydalanuvchi test natijalari"})]}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:[(0,s.jsx)(c.A,{size:24}),"Foydalanuvchi Natijalari"]}),(0,s.jsx)("button",{onClick:()=>{h.push("/questions")},className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-700",children:"Orqaga"})]}),a&&(0,s.jsx)("p",{className:"text-gray-600",children:"Natijalar yuklanmoqda..."}),o&&(0,s.jsx)("p",{className:"text-red-500 bg-red-100 p-3 rounded-lg",children:o}),!a&&!o&&0===e.length&&(0,s.jsx)("p",{className:"text-gray-600",children:"Hech qanday natija topilmadi."}),!a&&!o&&e.length>0&&(0,s.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Foydalanuvchi"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To‘g‘ri javoblar"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Umumiy savollar"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Foiz"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sana"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amallar"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.username}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.correctAnswers}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.totalQuestions}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.scorePercentage,"%"]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.date}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("button",{onClick:()=>p(e.resultId),className:"text-red-600 hover:text-red-800",children:"O‘chirish"})})]},e.resultId))})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2551)),_N_E=e.O()}]);